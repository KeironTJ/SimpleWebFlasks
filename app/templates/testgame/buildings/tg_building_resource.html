{% extends "testgame/tg_base.html" %}

{% block content2 %}



<div>
    <h2>{{ building_progress.building.building_name }} - Level: {{ building_progress.building_level }}</h2>
</div>

<div>
    <!-- Farm -->
    {% if building_progress.building.id == 3 %}
    <p>Cash per hour: {{ building_progress.cash_per_minute * 60}}</p>
    <p>Cash to collect: {{ building_progress.accrued_cash }} </p>
    {% endif %}

    <!-- Lumber Mill -->
    {% if building_progress.building.id == 4 %}
    <p>Wood per hour: {{ building_progress.wood_per_minute }}</p>
    <p>Wood to collect: {{ building_progress.accrued_wood }} </p>
    {% endif %}

    <!-- Mine -->
    {% if building_progress.building.id == 5 %}
    <p>Stone per hour: {{ building_progress.stone_per_minute }}</p>
    <p>Stone to collect: {{ building_progress.accrued_stone }} </p>
    {% endif %}

    <!-- Forge -->
    {% if building_progress.building.id == 6 %}
    <p>Metal per hour: {{ building_progress.metal_per_minute }}</p>
    <p>Metal to collect: {{ building_progress.accrued_metal }} </p>
    {% endif %}
</div>

<!-- Check if any resources to collect before displaying button -->
{% if buildingservice.check_resources_to_collect() %}
    <div>
        <form action="" method="post">
            {{ collectresourcesform.hidden_tag() }}
            <p>{{ collectresourcesform.collect_button() }}</p>
        </form>
    </div>
{% endif %}

<div>
    <h2>Upgrade:</h2>

    {% if building_progress.building_level >= building_progress.building.max_building_level %}
    <p>Building Upgraded to Max Level</p>
    {% else %}

    <p>Game Level: {{ game.level }} / {{ required_resources.level }}</p>
    <p>Cash: {{ game.cash }} / {{ required_resources.cash }}</p>

    <!-- Farm -->
    {% if building_progress.building.id == 3 %}
    {% endif %}

    <!-- Lumber Mill -->
    {% if building_progress.building.id == 4 %}
    {% endif %}

    <!-- Mine -->
    {% if building_progress.building.id == 5 %}
    <p>Wood: {{ game.wood }} / {{ required_resources.wood }}</p>
    {% endif %}


    <!-- Foundry -->
    {% if building_progress.building.id == 6 %}
    <p>Wood: {{ game.wood }} / {{ required_resources.wood }}</p>
    <p>Stone: {{ game.stone }} / {{ required_resources.stone }}</p>
    {% endif %}

    {% if buildingservice.check_upgrade_requirements() %}
    <form action="" method="post">
        {{ upgradebuildingform.hidden_tag() }}
        <p>{{ upgradebuildingform.upgrade_button() }}</p>
    </form>
    {% else %}
    <p>Requirements not met</p>
    {% endif %}
    {% endif %}


</div>


{% endblock content2 %}